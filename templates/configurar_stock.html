<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurar Stock - {{ receta.nombre }}</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { margin-bottom: 30px; border-bottom: 2px solid #667eea; padding-bottom: 20px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1em; }
        .btn { background: #667eea; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; text-decoration: none; display: inline-block; }
        .btn:hover { background: #5a6fd8; }
        .btn-secondary { background: #6c757d; }
        .info-box { background: #e8f5e8; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #28a745; }
        .estado-ejemplo { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .estado-item { padding: 8px; border-radius: 4px; text-align: center; font-size: 0.9em; }
        .critico { background: #f8d7da; color: #721c24; }
        .bajo { background: #fff3cd; color: #856404; }
        .medio { background: #cce7ff; color: #004085; }
        .optimo { background: #d4edda; color: #155724; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öôÔ∏è Configurar Stock - {{ receta.nombre }}</h1>
            <p>Establece los par√°metros de stock para las alertas del sistema</p>
        </div>

        <div class="info-box">
            <strong>üí° C√≥mo funcionan los estados:</strong>
            <div class="estado-ejemplo">
                <div class="estado-item critico">CR√çTICO: ‚â§ X% del objetivo</div>
                <div class="estado-item bajo">BAJO: ‚â§ Y% del objetivo</div>
                <div class="estado-item medio">MEDIO: ‚â§ Z% del objetivo</div>
                <div class="estado-item optimo">√ìPTIMO: > Z% del objetivo</div>
            </div>
        </div>

        <form method="POST">
            <div class="form-group">
                <label for="stock_objetivo">üéØ Stock Objetivo (unidades):</label>
                <input type="number" id="stock_objetivo" name="stock_objetivo" 
                       value="{{ config.stock_objetivo }}" min="1" required>
                <small>Cantidad ideal que deber√≠as tener en vitrina</small>
            </div>

            <div class="form-group">
                <label for="porcentaje_critico">üî¥ % para Estado CR√çTICO:</label>
                <input type="number" id="porcentaje_critico" name="porcentaje_critico" 
                       value="{{ config.porcentaje_critico }}" min="1" max="100" step="1" required>
                <small>Ej: 20 = CR√çTICO cuando stock ‚â§ 20% del objetivo</small>
            </div>

            <div class="form-group">
                <label for="porcentaje_bajo">üü° % para Estado BAJO:</label>
                <input type="number" id="porcentaje_bajo" name="porcentaje_bajo" 
                       value="{{ config.porcentaje_bajo }}" min="1" max="100" step="1" required>
                <small>Ej: 50 = BAJO cuando stock ‚â§ 50% del objetivo</small>
            </div>

            <div class="form-group">
                <label for="porcentaje_medio">üîµ % para Estado MEDIO:</label>
                <input type="number" id="porcentaje_medio" name="porcentaje_medio" 
                       value="{{ config.porcentaje_medio }}" min="1" max="200" step="1" required>
                <small>Ej: 100 = MEDIO cuando stock ‚â§ 100% del objetivo</small>
            </div>

            <div class="form-group">
                <label for="tendencia_ventas">üìà Factor de Tendencia de Ventas:</label>
                <input type="number" id="tendencia_ventas" name="tendencia_ventas" 
                       value="{{ config.tendencia_ventas }}" min="0.1" max="5.0" step="0.1">
                <small>1.0 = normal, 1.5 = 50% m√°s ventas, 0.8 = 20% menos ventas</small>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 30px;">
                <button type="submit" class="btn">üíæ Guardar Configuraci√≥n</button>
                <a href="{{ url_for('produccion_diaria') }}" class="btn btn-secondary">‚Üê Volver</a>
            </div>
        </form>
    </div>
</body>
</html>